{"version":3,"sources":["webpack:///./src/views/article/index.vue?4eae","webpack:///./src/api/article.js","webpack:///./src/views/article/components/article-comment.vue?618a","webpack:///src/views/article/components/article-comment.vue","webpack:///./src/views/article/components/article-comment.vue?4ed5","webpack:///./src/views/article/components/article-comment.vue","webpack:///src/views/article/index.vue","webpack:///./src/views/article/index.vue?9300","webpack:///./src/views/article/index.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/article/components/article-comment.vue?372b","webpack:///./src/views/article/index.vue?3618"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","back","scopedSlots","_u","key","fn","directives","name","rawName","value","expression","article","aut_photo","_v","class","un","is_followed","fllowAuthor","_s","proxy","ref","scrollScreen","title","pubdate","read_count","comm_count","domProps","content","scrollToCommentOrTop","staticRenderFns","getArticleDetail","id","request","url","authorID","isFllow","mathod","data","target","method","getArticleCommentsByID","artID","offset","params","type","source","likeArticle","articleID","isLike","collectArticle","getCommentsByCommentID","commentID","commentArticleOrComment","targeID","art_id","finished","onLoad","model","callback","$$v","loading","_l","comment","com_id","aut_name","like_count","showReplyModel","reply_count","_f","showInput","_e","attitude","is_collected","reply","$set","currentComment","open","loadReply","staticStyle","commentArticle","text","props","commentList","created","methods","err","console","$emit","component","components","articleComment","showAuthor","isToComment","$refs","wrapper","scrollTop","header","offsetHeight","main","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread"],"mappings":"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","file":"js/chunk-8117a528.ffa3c06b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article\"},[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAuthor),expression:\"showAuthor\"}],staticClass:\"nav-author\"},[_c('van-image',{attrs:{\"round\":\"\",\"width\":\"7vw\",\"height\":\"7vw\",\"src\":_vm.article.aut_photo}}),_c('span',{staticClass:\"name\"},[_vm._v(\"极乐头条\")]),_c('span',{staticClass:\"line\"},[_vm._v(\"|\")]),_c('span',{staticClass:\"follow\",class:{un:_vm.article.is_followed},on:{\"click\":_vm.fllowAuthor}},[_vm._v(_vm._s(_vm.article.is_followed?'取消关注':\"关注\"))])],1)]},proxy:true},{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"ellipsis\",\"size\":\"5.4vw\"}})]},proxy:true}])}),(_vm.loading)?_c('div',{staticClass:\"article-skeleton\"},[_c('van-skeleton',{attrs:{\"title\":\"\",\"row\":12}})],1):_c('div',{ref:\"wrapper\",staticClass:\"article-wrapper\",on:{\"scroll\":_vm.scrollScreen}},[_c('div',{ref:\"header\",staticClass:\"header\"},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('div',{staticClass:\"time\"},[_c('span',[_vm._v(_vm._s(_vm.article.pubdate))]),_c('span',[_vm._v(\"|\")]),_c('span',[_vm._v(_vm._s(_vm.article.read_count)+\" 阅读\")]),_c('span',[_vm._v(\"|\")]),_c('span',[_vm._v(_vm._s(_vm.article.comm_count)+\" 评论\")])]),_c('div',{staticClass:\"author van-hairline--bottom\"},[_c('van-image',{attrs:{\"round\":\"\",\"width\":\"10vw\",\"height\":\"10vw\",\"src\":_vm.article.aut_photo}}),_c('span',{staticClass:\"name\"},[_vm._v(\"极乐头条\")]),_c('van-button',{attrs:{\"round\":\"\",\"size\":\"small\",\"color\":\"#FC6627\"},on:{\"click\":_vm.fllowAuthor}},[_vm._v(\"+ \"+_vm._s(_vm.article.is_followed?'取消关注':\"关注\"))])],1)]),_c('div',{ref:\"main\",staticClass:\"main\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],staticClass:\"html\",domProps:{\"innerHTML\":_vm._s(_vm.article.content)}}),_c('div',{staticClass:\"space\"})]),_c('article-comment',{attrs:{\"article\":_vm.article},on:{\"click-scroll\":_vm.scrollToCommentOrTop}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n\r\n// 获取文章详情\r\nexport function getArticleDetail (id) {\r\n  return request({\r\n    url: 'articles/' + id\r\n  })\r\n}\r\n\r\n// 关注作者或取消关注\r\nexport function fllowAuthor (authorID, isFllow) {\r\n  if (isFllow) {\r\n    return request({\r\n      url: 'user/followings',\r\n      mathod: 'POST',\r\n      data: {\r\n        target: authorID\r\n      }\r\n    })\r\n  } else {\r\n    return request({\r\n      url: 'user/followings/' + authorID,\r\n      method: 'DELETE'\r\n    })\r\n  }\r\n}\r\n\r\n// 获取文章的评价\r\nexport function getArticleCommentsByID (artID, offset) {\r\n  return request({\r\n    url: 'comments',\r\n    // params时get请求携带的参数，data是post请求携带的参数\r\n    params: {\r\n      type: 'a',\r\n      source: artID,\r\n      offset\r\n    }\r\n  })\r\n}\r\n\r\n// 点赞及取消点赞\r\nexport function likeArticle (articleID, isLike) {\r\n  if (isLike) {\r\n    return request({\r\n      url: 'article/likings',\r\n      method: 'POST',\r\n      data: { target: articleID }\r\n    })\r\n  } else {\r\n    return request({\r\n      url: 'article/likings/' + articleID,\r\n      method: 'DELETE'\r\n    })\r\n  }\r\n}\r\n\r\n// 收藏及取消收藏\r\nexport function collectArticle (articleID, isLike) {\r\n  if (isLike) {\r\n    return request({\r\n      url: 'article/collections',\r\n      method: 'POST',\r\n      data: { target: articleID }\r\n    })\r\n  } else {\r\n    return request({\r\n      url: 'article/collections/' + articleID,\r\n      method: 'DELETE'\r\n    })\r\n  }\r\n}\r\n\r\n// 获取评论的列表评论\r\nexport function getCommentsByCommentID (commentID, offset) {\r\n  return request({\r\n    url: 'comments',\r\n    // params时get请求携带的参数，data是post请求携带的参数\r\n    params: {\r\n      type: 'c',\r\n      source: commentID,\r\n      offset\r\n    }\r\n  })\r\n}\r\n\r\n// 对文章或是评论进行评论\r\nexport function commentArticleOrComment (targeID, content, artID) {\r\n  return request({\r\n    url: 'comments',\r\n    method: 'POST',\r\n    data: {\r\n      target: targeID,\r\n      content,\r\n      art_id: artID\r\n    }\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-comment\"},[_c('van-sticky',{attrs:{\"offset-top\":\"10.73333vw\"}},[_c('div',{staticClass:\"title van-hairline--bottom\"},[_c('span',[_vm._v(\"全部评论 (\"+_vm._s(_vm.article.comm_count)+\")\")]),_c('span',[_vm._v(\"0 点赞\")])])]),_c('div',{staticClass:\"list\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有评论了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.commentList),function(comment){return _c('div',{key:comment.com_id,staticClass:\"item van-hairline--bottom\"},[_c('van-image',{attrs:{\"round\":\"\",\"width\":\"10vw\",\"height\":\"10vw\",\"src\":comment.aut_photo}}),_c('div',{staticClass:\"info\"},[_c('p',[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(comment.aut_name))]),_c('span',{staticClass:\"zan\"},[_vm._v(_vm._s(comment.like_count)+\" \"),_c('geek-icon',{attrs:{\"name\":\"like2\"}})],1)]),_c('p',{staticClass:\"cont\"},[_vm._v(_vm._s(comment.content))]),_c('p',[_c('span',{staticClass:\"reply\",on:{\"click\":function($event){return _vm.showReplyModel(comment)}}},[_vm._v(_vm._s(comment.reply_count)+\"回复 \"),_c('i',{staticClass:\"van-icon van-icon-arrow\"})]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(comment.pubdate)))])])])],1)}),0)],1),_c('div',{staticClass:\"footer van-hairline--top\"},[_c('div',{staticClass:\"input\",on:{\"click\":function($event){_vm.showInput=true}}},[_c('i',{staticClass:\"van-icon van-icon-edit\"})]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.scrollToCommentOrTop}},[_c('geek-icon',{attrs:{\"name\":\"comment\"}}),_c('p',[_vm._v(\"评论\")]),(_vm.article.comm_count)?_c('i',[_vm._v(_vm._s(_vm.article.comm_count))]):_vm._e()],1),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.likeArticle}},[_c('geek-icon',{attrs:{\"name\":_vm.article.attitude===1?'like-sel':'like'}}),_c('p',[_vm._v(\"点赞\")])],1),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.collectArticle}},[_c('geek-icon',{attrs:{\"name\":_vm.article.is_collected?'collect-sel':'collect'}}),_c('p',[_vm._v(\"收藏\")])],1),_c('div',{staticClass:\"btn\"},[_c('geek-icon',{attrs:{\"name\":\"share\"}}),_c('p',[_vm._v(\"分享\")])],1)]),_c('van-popup',{attrs:{\"position\":\"right\"},model:{value:(_vm.reply.open),callback:function ($$v) {_vm.$set(_vm.reply, \"open\", $$v)},expression:\"reply.open\"}},[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\",\"title\":((_vm.currentComment.reply_count) + \"条回复\")},on:{\"click-left\":function($event){_vm.reply.open=false;_vm.currentComment={}}}}),_c('div',{staticClass:\"reply-wrapper list\"},[_c('van-list',{attrs:{\"immediate-check\":false,\"finished\":_vm.reply.finished,\"finished-text\":\"没有回复了\"},on:{\"load\":_vm.loadReply},model:{value:(_vm.reply.loading),callback:function ($$v) {_vm.$set(_vm.reply, \"loading\", $$v)},expression:\"reply.loading\"}},_vm._l((_vm.reply.commentList),function(comment){return _c('div',{key:comment.com_id,staticClass:\"item van-hairline--bottom\"},[_c('van-image',{attrs:{\"round\":\"\",\"width\":\"10vw\",\"height\":\"10vw\",\"src\":comment.aut_photo}}),_c('div',{staticClass:\"info\"},[_c('p',[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(comment.aut_name))]),_c('span',{staticClass:\"zan\"},[_vm._v(_vm._s(comment.like_count)),_c('geek-icon',{attrs:{\"name\":\"like2\"}})],1)]),_c('p',{staticClass:\"cont\"},[_vm._v(_vm._s(comment.content))]),_c('p',[_c('span',{staticClass:\"time\",staticStyle:{\"margin-left\":\"0\"}},[_vm._v(\"2小时内\")])])])],1)}),0)],1),_c('div',{staticClass:\"footer van-hairline--top\",staticStyle:{\"position\":\"static\"}},[_c('div',{staticClass:\"input big\",on:{\"click\":function($event){_vm.showInput=true}}},[_c('i',{staticClass:\"van-icon van-icon-edit\"})]),_c('div',{staticClass:\"btn\"},[_c('geek-icon',{attrs:{\"name\":\"collect\"}}),_c('p',[_vm._v(\"收藏\")])],1),_c('div',{staticClass:\"btn\"},[_c('geek-icon',{attrs:{\"name\":\"share\"}}),_c('p',[_vm._v(\"分享\")])],1)])],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showInput),callback:function ($$v) {_vm.showInput=$$v},expression:\"showInput\"}},[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\",\"title\":\"评论文章\",\"right-text\":\"发表\"},on:{\"click-left\":function($event){_vm.showInput=false},\"click-right\":_vm.commentArticle}}),_c('van-field',{attrs:{\"rows\":\"3\",\"autosize\":\"\",\"type\":\"textarea\",\"maxlength\":\"100\",\"placeholder\":_vm.currentComment.aut_name?(\"@\" + (_vm.currentComment.aut_name)): '请输入评论',\"show-word-limit\":\"\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"article-comment\">\r\n    <!-- 全部评论 -->\r\n    <van-sticky offset-top=\"10.73333vw\">\r\n      <div class=\"title van-hairline--bottom\">\r\n        <span>全部评论 ({{article.comm_count}})</span>\r\n        <span>0 点赞</span>\r\n      </div>\r\n    </van-sticky>\r\n    <!-- 评论列表 -->\r\n    <div class=\"list\">\r\n        <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有评论了\" @load='onLoad'>\r\n      <div class=\"item van-hairline--bottom\" v-for=\"comment in commentList\" :key=\"comment.com_id\">\r\n        <van-image round width=\"10vw\" height=\"10vw\" :src=\"comment.aut_photo\"/>\r\n        <div class=\"info\">\r\n          <p>\r\n            <span class=\"name\">{{comment.aut_name}}</span>\r\n            <span class=\"zan\">{{comment.like_count}} <geek-icon name=\"like2\" /></span>\r\n          </p>\r\n          <p class=\"cont\">{{comment.content}}</p>\r\n          <p>\r\n            <span class=\"reply\" @click=\"showReplyModel(comment)\">{{comment.reply_count}}回复 <i class=\"van-icon van-icon-arrow\"></i></span>\r\n            <span class=\"time\">{{comment.pubdate | relativeTime}}</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n      </van-list>\r\n    </div>\r\n    <!-- 底部工具 -->\r\n    <!-- <div class=\"footer\"></div> -->\r\n    <div class=\"footer van-hairline--top\">\r\n      <div class=\"input\" @click=\"showInput=true\"><i class=\"van-icon van-icon-edit\"></i></div>\r\n      <div class=\"btn\" @click=\"scrollToCommentOrTop\"><geek-icon name=\"comment\"></geek-icon><p>评论</p>\r\n        <i v-if=\"article.comm_count\">{{article.comm_count}}</i>\r\n      </div>\r\n      <div class=\"btn\" @click=\"likeArticle\"><geek-icon :name=\"article.attitude===1?'like-sel':'like'\"></geek-icon><p>点赞</p></div>\r\n      <div class=\"btn\" @click=\"collectArticle\"><geek-icon :name=\"article.is_collected?'collect-sel':'collect'\"></geek-icon><p>收藏</p></div>\r\n      <div class=\"btn\"><geek-icon name=\"share\"></geek-icon><p>分享</p></div>\r\n    </div>\r\n        <!-- 二级评论回复弹层 -->\r\n    <van-popup v-model=\"reply.open\" position=\"right\">\r\n      <!-- 头 -->\r\n      <van-nav-bar left-arrow @click-left=\"reply.open=false;currentComment={}\" :title=\"`${currentComment.reply_count}条回复`\" />\r\n      <div class=\"reply-wrapper list\">\r\n          <van-list :immediate-check=\"false\" v-model=\"reply.loading\" :finished=\"reply.finished\" finished-text=\"没有回复了\" @load=\"loadReply\">\r\n        <!-- 列表 -->\r\n        <div class=\"item van-hairline--bottom\" v-for=\"comment in reply.commentList\" :key=\"comment.com_id\">\r\n          <van-image round width=\"10vw\" height=\"10vw\" :src=\"comment.aut_photo\"/>\r\n          <div class=\"info\">\r\n            <p>\r\n              <span class=\"name\">{{comment.aut_name}}</span>\r\n              <span class=\"zan\">{{comment.like_count}}<geek-icon name=\"like2\" /></span>\r\n            </p>\r\n            <p class=\"cont\">{{comment.content}}</p>\r\n            <p><span class=\"time\" style=\"margin-left:0\">2小时内</span></p>\r\n          </div>\r\n        </div>\r\n          </van-list>\r\n      </div>\r\n      <!-- 底 -->\r\n      <div class=\"footer van-hairline--top\" style=\"position:static\">\r\n        <div class=\"input big\" @click=\"showInput=true\"><i class=\"van-icon van-icon-edit\"></i></div>\r\n        <div class=\"btn\">\r\n          <geek-icon name=\"collect\"></geek-icon><p>收藏</p>\r\n        </div>\r\n        <div class=\"btn\"><geek-icon name=\"share\"></geek-icon><p>分享</p></div>\r\n      </div>\r\n    </van-popup>\r\n        <!-- 评论&回复 -->\r\n    <van-popup v-model=\"showInput\" position=\"bottom\">\r\n      <van-nav-bar left-arrow @click-left=\"showInput=false\" @click-right=\"commentArticle\" title=\"评论文章\" right-text=\"发表\" />\r\n      <van-field\r\n        v-model=\"text\"\r\n        rows=\"3\"\r\n        autosize\r\n        type=\"textarea\"\r\n        maxlength=\"100\"\r\n        :placeholder=\"currentComment.aut_name?`@${currentComment.aut_name}`: '请输入评论'\"\r\n        show-word-limit\r\n      />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  getArticleCommentsByID,\r\n  likeArticle,\r\n  collectArticle,\r\n  getCommentsByCommentID,\r\n  commentArticleOrComment\r\n} from '@/api/article'\r\nexport default {\r\n  name: 'ArticleComment',\r\n  props: ['article'],\r\n  data () {\r\n    return {\r\n      showInput: false,\r\n      text: '',\r\n      loading: false,\r\n      finished: false,\r\n      offset: null,\r\n      commentList: [],\r\n      currentComment: {},\r\n      reply: {\r\n        open: false,\r\n        offset: null,\r\n        loading: false,\r\n        finished: false\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    // this.getArticleCommentsByID()\r\n  },\r\n  methods: {\r\n    // 评论文章\r\n    async commentArticle () {\r\n      if (this.currentComment.aut_name) {\r\n        const [err, data] = await commentArticleOrComment(this.currentComment.com_id, this.text, this.article.art_id)\r\n        if (err) return this.$toast.fail(err)\r\n        console.log(data)\r\n        // 添加成功关闭窗口\r\n        this.showInput = false\r\n        // 将新的二级评价添加到reply.commentList中\r\n        this.reply.commentList.push(data.data.data.new_obj)\r\n        this.currentComment.reply_count++\r\n        this.text = ''\r\n      } else {\r\n        const [err, data] = await commentArticleOrComment(this.article.art_id, this.text)\r\n        if (err) return this.$toast.fail(err)\r\n        console.log(data)\r\n        // 1.发送成功关闭窗口\r\n        this.showInput = false\r\n        // 2.将新的评论添加到commentList\r\n        this.commentList.unshift(data.data.data.new_obj)\r\n        this.article.comm_count++\r\n        this.text = ''\r\n      }\r\n    },\r\n    loadReply () {},\r\n    async showReplyModel (comment) {\r\n      // 将当前的评论存储到currentComment里\r\n      this.currentComment = comment\r\n      // 1.让弹出层显示\r\n      this.reply.open = true\r\n      // 2.请求数据\r\n      const [err, data] = await getCommentsByCommentID(comment.com_id, this.reply.offset)\r\n      if (err) return this.$toast.fail(err)\r\n      console.log(data)\r\n      if (data.data.data.end_id === data.data.data.last_id) {\r\n        // 没有更多评论了\r\n        this.reply.finished = true\r\n      } else {\r\n        this.reply.offset = data.data.data.end_id\r\n      }\r\n      this.reply.commentList = data.data.data.results\r\n    },\r\n    async collectArticle () {\r\n      const [err] = await collectArticle()\r\n      if (err) return this.$toast.fail(err)\r\n      // 取反\r\n      this.article.is_collected = !this.article.is_collected\r\n      this.$toast.success(this.article.is_collected ? '收藏成功' : '取消收藏成功')\r\n    },\r\n    async likeArticle () {\r\n      const [err] = await likeArticle()\r\n      if (err) return this.$toast.fail(err)\r\n\r\n      if (this.article.attitude === 1) {\r\n        this.article.attitude = -1\r\n        this.$toast.success('取消点赞成功')\r\n      } else {\r\n        this.article.attitude = 1\r\n        this.$toast.success('点赞成功')\r\n      }\r\n    },\r\n    scrollToCommentOrTop () {\r\n      this.$emit('click-scroll')\r\n    },\r\n    async onLoad () {\r\n      this.loading = true\r\n      const [err, data] = await getArticleCommentsByID(this.article.art_id, this.offset)\r\n      if (err) return this.$toast.fail(err)\r\n\r\n      this.commentList.push(...data.data.data.results)\r\n\r\n      if (data.data.data.end_id === data.data.data.last_id) {\r\n        this.finished = true\r\n      } else {\r\n        this.offset = data.data.data.last_id\r\n      }\r\n      this.loading = false\r\n    },\r\n    async getArticleCommentsByID () {\r\n      const [err, data] = await getArticleCommentsByID(this.article.art_id, this.offset)\r\n      if (err) return this.$toast.fail(err)\r\n      if (data.data.data.end_id === data.data.data.last_id) {\r\n        this.commentList = data.data.data.results\r\n        this.finished = true\r\n      } else {\r\n        this.offset = data.data.data.last_id\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.article-comment {\r\n  .title {\r\n    height: 50px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 16px;\r\n    background: #fff;\r\n    span {\r\n      font-size: 16px;\r\n      &:last-child {\r\n        color: #ccc;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n  .list {\r\n    padding: 0 16px;\r\n    .item {\r\n      display: flex;\r\n      padding: 10px 0;\r\n      .info {\r\n        padding-left: 10px;\r\n        flex: 1;\r\n        p {\r\n          margin: 0;\r\n          .name {\r\n            font-size: 16px;\r\n          }\r\n          .zan {\r\n            font-size: 14px;\r\n            float: right;\r\n            color: #999;\r\n            .geek-icon {\r\n              font-size: 12px;\r\n              position: relative;\r\n              top: -1px;\r\n            }\r\n          }\r\n          &.cont {\r\n            font-size: 14px;\r\n            color: #666;\r\n            padding: 10px 0;\r\n            word-break: break-all;\r\n            padding-right: 40px;\r\n          }\r\n          .reply {\r\n            min-width: 60px;\r\n            height: 24px;\r\n            text-align: center;\r\n            line-height: 28px;\r\n            font-size: 12px;\r\n            background: @geek-gray-color;\r\n            display: inline-block;\r\n            border-radius: 14px;\r\n            color: #666;\r\n            .van-icon {\r\n              position: relative;\r\n              top: 1px;\r\n            }\r\n          }\r\n          .time {\r\n            font-size: 12px;\r\n            color: #999;\r\n            margin-left: 10px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n  .footer {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    height: 50px;\r\n    background: #fff;\r\n    display: flex;\r\n    width: 100%;\r\n    align-items: center;\r\n    .input {\r\n        &.big {\r\n        width: 260px;\r\n      }\r\n      margin-left: 10px;\r\n      width: 200px;\r\n      height: 34px;\r\n      background: @geek-gray-color;\r\n      border-radius: 17px;\r\n      line-height: 36px;\r\n      padding-left: 10px;\r\n      .van-icon {\r\n        color: #999;\r\n      }\r\n    }\r\n    .btn {\r\n      flex: 1;\r\n      text-align: center;\r\n      position: relative;\r\n      p {\r\n        margin: 0;\r\n        font-size: 10px;\r\n      }\r\n      .geek-icon {\r\n        font-size: 18px;\r\n      }\r\n      i {\r\n        height: 16px;\r\n        min-width: 16px;\r\n        padding: 0 3px;\r\n        background: @geek-color;\r\n        color: #fff;\r\n        font-size: 10px;\r\n        position: absolute;\r\n        right: 0;\r\n        top: -4px;\r\n        line-height: 16px;\r\n        border-radius: 8px;\r\n        font-style: normal;\r\n      }\r\n    }\r\n  }\r\n\r\n  // 最下面加如下样式\r\n.van-popup {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.reply-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n}\r\n\r\n::v-deep .van-nav-bar__text {\r\n  color: @geek-color;\r\n}\r\n::v-deep .van-field__control {\r\n  background: @geek-gray-color;\r\n  padding: 5px 10px;\r\n  margin-bottom: 5px;\r\n  border-radius: 4px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article-comment.vue?vue&type=template&id=f6a4a830&scoped=true&\"\nimport script from \"./article-comment.vue?vue&type=script&lang=js&\"\nexport * from \"./article-comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article-comment.vue?vue&type=style&index=0&id=f6a4a830&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6a4a830\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"article\">\r\n        <!-- 顶部导航 -->\r\n        <van-nav-bar left-arrow @click-left=\"$router.back()\" fixed>\r\n            <template #title>\r\n        <div class=\"nav-author\" v-show=\"showAuthor\">\r\n          <van-image round width=\"7vw\" height=\"7vw\" :src=\"article.aut_photo\"/>\r\n          <!-- <span class=\"name\">{{article.aut_name}}</span> -->\r\n          <span class=\"name\">极乐头条</span>\r\n          <span class=\"line\">|</span>\r\n          <span class=\"follow\" :class=\"{un:article.is_followed}\" @click=\"fllowAuthor\">{{article.is_followed?'取消关注':\"关注\"}}</span>\r\n        </div>\r\n      </template>\r\n      <template #right>\r\n        <van-icon name=\"ellipsis\" size=\"5.4vw\"></van-icon>\r\n      </template>\r\n    </van-nav-bar>\r\n    <!-- 内容体 -->\r\n    <!-- 文章主体 -->\r\n    <!-- 骨架组件 -->\r\n    <div v-if=\"loading\" class=\"article-skeleton\">\r\n      <van-skeleton title :row=\"12\" />\r\n    </div>\r\n    <!-- 文章主体 -->\r\n    <div v-else class=\"article-wrapper\" @scroll=\"scrollScreen\" ref=\"wrapper\">\r\n      <!-- 头部：标题 时间 作者 -->\r\n      <div class=\"header\" ref=\"header\">\r\n        <h3 class=\"title\">{{article.title}}</h3>\r\n        <div class=\"time\">\r\n          <span>{{article.pubdate}}</span>\r\n          <span>|</span>\r\n          <span>{{article.read_count}} 阅读</span>\r\n          <span>|</span>\r\n          <span>{{article.comm_count}} 评论</span>\r\n        </div>\r\n        <div class=\"author van-hairline--bottom\">\r\n          <van-image round width=\"10vw\" height=\"10vw\" :src=\"article.aut_photo\"/>\r\n          <!-- <span class=\"name\">{{article.aut_name}}</span> -->\r\n          <span class=\"name\">极乐头条</span>\r\n          <van-button round size=\"small\" color=\"#FC6627\" @click=\"fllowAuthor\">+ {{article.is_followed?'取消关注':\"关注\"}}</van-button>\r\n        </div>\r\n      </div>\r\n      <!-- 内容：文章内容 -->\r\n      <div class=\"main\" ref=\"main\">\r\n        <div class=\"html\" v-html=\"article.content\" v-highlight></div>\r\n        <div class=\"space\"></div>\r\n      </div>\r\n      <!-- 评论：评论组件 -->\r\n      <article-comment @click-scroll=\"scrollToCommentOrTop\" :article=\"article\"></article-comment>\r\n    </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { getArticleDetail, fllowAuthor } from '@/api/article'\r\nimport articleComment from './components/article-comment.vue'\r\nexport default {\r\n  components: {\r\n    articleComment\r\n  },\r\n  data () {\r\n    return {\r\n      article: {},\r\n      showAuthor: false,\r\n      loading: false,\r\n      isToComment: false\r\n    }\r\n  },\r\n  methods: {\r\n    scrollToCommentOrTop () {\r\n      if (!this.isToComment) {\r\n        // 去评论区\r\n        this.$refs.wrapper.scrollTop = this.$refs.header.offsetHeight + this.$refs.main.offsetHeight\r\n      } else {\r\n        // 去顶部\r\n        this.$refs.wrapper.scrollTop = 0\r\n      }\r\n      this.isToComment = !this.isToComment\r\n    },\r\n    // 关注用户或者取消关注\r\n    async fllowAuthor () {\r\n      await fllowAuthor(this.article.aut_id, !this.article.is_followed)\r\n      //   按照正确结果来写\r\n      this.article.is_followed = !this.article.is_followed\r\n      this.$toast(this.article.is_followed ? '关注成功' : '取消关注成功')\r\n    },\r\n    scrollScreen () {\r\n    //   console.log(this.$refs.wrapper.scrollTop)\r\n      //   console.log(this.$refs.header.offsetHeight)\r\n      if (this.$refs.wrapper.scrollTop > this.$refs.header.offsetHeight) {\r\n        this.showAuthor = true\r\n      } else {\r\n        this.showAuthor = false\r\n      }\r\n    //   this.showAuthor = this.$refs.wrapper.scrollTop > this.$refs.header.offsetHeight\r\n    }\r\n  },\r\n  async created () {\r\n    this.loading = true\r\n    const [err, data] = await getArticleDetail(this.$route.params.id)\r\n    if (err) return this.$toast.fail(err)\r\n    console.log(data)\r\n    this.article = data.data.data\r\n\r\n    this.loading = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.article{\r\n    height: 100%;\r\n}\r\n.article-wrapper {\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  padding: 44px 0 50px;\r\n  // 头部\r\n  .header {\r\n    padding: 0 16px;\r\n    .title {\r\n      font-size: 20px;\r\n      font-weight: normal;\r\n      padding: 10px 0;\r\n      margin: 0;\r\n    }\r\n    .time {\r\n      font-size: 12px;\r\n      color: #999;\r\n      span:nth-child(2n) {\r\n        margin: 0 5px;\r\n        color: #ccc;\r\n        position: relative;\r\n        top: -1px;\r\n      }\r\n    }\r\n    .author {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 10px 0 ;\r\n      .name {\r\n        flex: 1;\r\n        padding-left: 10px;\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n  // 内容\r\n  .main {\r\n    .space {\r\n      height: 16px;\r\n      background: @geek-gray-color;\r\n    }\r\n    .html {\r\n      word-break: break-all;\r\n      width: 100%;\r\n      overflow: hidden;\r\n      padding: 20px 16px;\r\n      /deep/ img {\r\n        max-width:100%;\r\n        background: #f9f9f9;\r\n      }\r\n      /deep/ pre {\r\n        white-space: pre-wrap;\r\n        code {\r\n          white-space: pre;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/deep/ .van-nav-bar__title {\r\n   max-width: 270px;\r\n   width: 270px;\r\n}\r\n.nav-author {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  > span {\r\n    font-size: 14px;\r\n    padding-left: 5px;\r\n  }\r\n  .line {\r\n    color: #ccc;\r\n    position: relative;\r\n    top: -1px;\r\n  }\r\n  .follow {\r\n    color: @geek-color;\r\n    &.un {\r\n      color: #999;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e1b5c270&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=e1b5c270&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e1b5c270\",\n  null\n  \n)\n\nexport default component.exports","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article-comment.vue?vue&type=style&index=0&id=f6a4a830&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=e1b5c270&scoped=true&lang=less&\""],"sourceRoot":""}